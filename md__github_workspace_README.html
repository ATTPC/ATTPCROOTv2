<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ATTPCROOT: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ATTPCROOT
   &#160;<span id="projectnumber">0.3.0-alpha</span>
   </div>
   <div id="projectbrief">A ROOT-based framework for analyzing data from active target detectors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ATTPCROOT is a ROOT-based (root.cern.ch) framework to analyze data of active target detectors including the ATTPC (Active Target Time Projection Chamber) detector and the p-ATTPC (Prototype). For reference <a href="http://ribf.riken.jp/ARIS2014/slide/files/Jun2/Par2B06Bazin-final.pdf">http://ribf.riken.jp/ARIS2014/slide/files/Jun2/Par2B06Bazin-final.pdf</a>. The detector is based at the NSCL but experiments are performed at other facilities as well (Notre Dame, TRIUMF, Argonne...).</p>
<p>The framework allows the end user to unpack and analyze the data, as well as perform realistic simulations based on a Virtual Monte Carlo (VMC) package. The framework needs external libraries (FairSoft and FairRoot <a href="https://fairroot.gsi.de/">https://fairroot.gsi.de/</a>) to be compiled and executed, which are developed by other groups and not directly supported by the AT-TPC group. Please refer to their forums for installation issues of these packages.</p>
<h1>Installation and Use</h1>
<p>For installation directions see the wiki: <a href="https://github.com/ATTPC/ATTPCROOTv2/wiki/Installation">https://github.com/ATTPC/ATTPCROOTv2/wiki/Installation</a></p>
<p>For documentation on the use of the code see the wiki: <a href="https://github.com/ATTPC/ATTPCROOTv2/wiki/Accessing-documentation">https://github.com/ATTPC/ATTPCROOTv2/wiki/Accessing-documentation</a></p>
<h1>Old documentation to be ported to wiki and updated</h1>
<h2>Running Analysis</h2>
<p>When running analysis in a macro, an instance of FairRunAna is created and tasks added to it. Each task will take in an event, process it, and then pass the event to the next task. Each task can save the intermediary step if desired by setting the boolean flag kIsPersistant.</p>
<h3>Unpacking Tasks</h3>
<p>These tasks are responsible for taking raw data in and saving it in an ATRawEvent class.</p>
<h3>Pulse Shape Analysis</h3>
<p>These tasks are responsible for taking an ATRawEvent and saving it as an ATEvent. That is, it takes the waveforms from the pads and process it into an array of ATHits which are the location of charge deposition in the TPC in space.</p>
<p>All the different PSA methods are handled by the same task, ATPSAtask. This task can also handle gain and jitter calibration through the class ATCalibration. When constructing the task, a pointer must be passed to a class that derives from the virtual class ATPSA. This derived class handles the logic of the task and the managment of whatever parameters are necessary. Below contains documentation on the various implemented PSA methods, including discriptions of their parameters.</p>
<h1>Notes on design</h1>
<p>ATTPCROOT is task based and there are two main input streams of data. One is from simulations, the other experimental data. The two streams come together at the level of waveforms on the pads, either simulated or real. From then on the analysis is identiacal.</p>
<h2>Simulation Tasks</h2>
<h3>FairRunSim</h3>
<p>Physics (Primary Generators/physics lists) -&gt; MC Tracks</p>
<h3>FairRunAna</h3>
<h4>ATClusterize task</h4>
<p>MC Tracks -&gt; e- locations along track (TClonesArray of ATSimulationPoints)</p>
<h4>ATPulseTask</h4>
<p>e- locations along track (TClonesArray of ATSimulationPoints) -&gt; waveform on pads (TClonesArray of ATRawEvent)</p>
<h2>Data Tasks</h2>
<h3>FairRunAna</h3>
<h4>HDFParserTask</h4>
<p>HDF5 file -&gt; waveform on pads (TClonesArray of ATRawEvent) Output is named: "ATRawEvent" </p><h2>Analysis Tasks</h2>
<h3>FairRunAna</h3>
<h4>ATPSATask</h4>
<p>There are many diffrent options for this task depending on how you want to treat the wavefrom (the standard ATTPC version is ATPSASimple2), but in general:</p>
<p>Waveform on pads (TClonesArray of ATRawEvent) -&gt; record of hits, 3D position and charge in tpc, (ATHit) on pad (TClonesArray of ATEvent) Output is named: "ATEventH"</p>
<p>This task uses the parameters in the ATTPC .par files. In particular this loads (bolded are used by PSASimple):</p><ul>
<li><b>NumTbs (Number of time buckets)</b></li>
<li><b>TBTTime (Sampling rate in ns)</b></li>
<li><b>DriftVelocity (cm/us)</b></li>
<li>BField</li>
<li>EField</li>
<li>EntTB (position in time buckets for detector entrance)</li>
</ul>
<h4>ATPRATask</h4>
<p>Has options for RANSAC, Hierarchical Clustering, and Houghs algorithms for track finding.</p>
<p>record of hits (TClonesArray of <a class="el" href="classAtEvent.html">AtEvent</a>) -&gt; record of reconstructed tracks (ATTrack) (TClonesArray of ATPatternEvent) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 20 2023 16:34:08 for ATTPCROOT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
